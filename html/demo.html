<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" href="css/demo.css">



</head>
<!-- add/remove class "smooth-scroll" to enable/disable smooth scroll -->
<body class="smooth-scroll">

<div id="scroll-container">

    <section class="blank">
        <h1>ScrollTrigger Horizontal Scroll + Smooth-Scrollbar</h1>
        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eum qui illo temporibus eaque sunt adipisci alias
            cumque consectetur blanditiis illum deserunt deleniti vel culpa, aliquam labore ipsam iste saepe. Recusandae
            quaerat nemo eum perferendis dicta, saepe fugiat pariatur magnam! Reiciendis fuga, fugit distinctio
            accusamus deserunt non rem necessitatibus laboriosam totam! Quis molestias iure mollitia, reprehenderit
            deleniti maiores labore eaque quas quam neque beatae? Alias, obcaecati? Quia facilis distinctio dolorem
            culpa recusandae. Corrupti odit porro assumenda hic accusantium aliquam qui nam dolor incidunt, tempore
            sequi magni cupiditate recusandae veritatis eveniet dolore reprehenderit esse, velit vero. Ipsum veniam
            molestias reprehenderit praesentium amet.</p>

        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eum qui illo temporibus eaque sunt adipisci alias
            cumque consectetur blanditiis illum deserunt deleniti vel culpa, aliquam labore ipsam iste saepe. Recusandae
            quaerat nemo eum perferendis dicta, saepe fugiat pariatur magnam! Reiciendis fuga, fugit distinctio
            accusamus deserunt non rem necessitatibus laboriosam totam! Quis molestias iure mollitia, reprehenderit
            deleniti maiores labore eaque quas quam neque beatae? Alias, obcaecati? Quia facilis distinctio dolorem
            culpa recusandae. Corrupti odit porro assumenda hic accusantium aliquam qui nam dolor incidunt, tempore
            sequi magni cupiditate recusandae veritatis eveniet dolore reprehenderit esse, velit vero. Ipsum veniam
            molestias reprehenderit praesentium amet.</p>
    </section>


    <section class="horizontal">
        <div class="pin-wrap">
            <div class="animation-wrap to-left">

                <!-- Begin horizontal item -->
                <div class="horizontal-item hi-red">
                    <img src="https://images.unsplash.com/photo-1633993365956-621f62f8057e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80"
                         alt="Image">
                </div>
                <!-- End horizontal item -->

                <!-- Begin horizontal item -->
                <div class="horizontal-item hi-dark">
                    <img src="https://images.unsplash.com/photo-1633605581168-8a544bc092ad?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1935&q=80"
                         alt="Image">
                </div>
                <!-- End horizontal item -->

                <!-- Begin horizontal item -->
                <div class="horizontal-item hi-green">
                    <img src="https://images.unsplash.com/photo-1633179895302-b59133548261?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80"
                         alt="Image">
                </div>
                <!-- End horizontal item -->

                <!-- Begin horizontal item -->
                <div class="horizontal-item hi-red">
                    <img src="https://images.unsplash.com/photo-1629649439562-4c682cd0c0d4?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1171&q=80"
                         alt="Image">
                </div>
                <!-- End horizontal item -->

            </div>
        </div>
    </section>


    <section class="blank">
        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eum qui illo temporibus eaque sunt adipisci alias
            cumque consectetur blanditiis illum deserunt deleniti vel culpa, aliquam labore ipsam iste saepe. Recusandae
            quaerat nemo eum perferendis dicta, saepe fugiat pariatur magnam! Reiciendis fuga, fugit distinctio
            accusamus deserunt non rem necessitatibus laboriosam totam! Quis molestias iure mollitia, reprehenderit
            deleniti maiores labore eaque quas quam neque beatae? Alias, obcaecati? Quia facilis distinctio dolorem
            culpa recusandae. Corrupti odit porro assumenda hic accusantium aliquam qui nam dolor incidunt, tempore
            sequi magni cupiditate recusandae veritatis eveniet dolore reprehenderit esse, velit vero. Ipsum veniam
            molestias reprehenderit praesentium amet.</p>

        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eum qui illo temporibus eaque sunt adipisci alias
            cumque consectetur blanditiis illum deserunt deleniti vel culpa, aliquam labore ipsam iste saepe. Recusandae
            quaerat nemo eum perferendis dicta, saepe fugiat pariatur magnam! Reiciendis fuga, fugit distinctio
            accusamus deserunt non rem necessitatibus laboriosam totam! Quis molestias iure mollitia, reprehenderit
            deleniti maiores labore eaque quas quam neque beatae? Alias, obcaecati? Quia facilis distinctio dolorem
            culpa recusandae. Corrupti odit porro assumenda hic accusantium aliquam qui nam dolor incidunt, tempore
            sequi magni cupiditate recusandae veritatis eveniet dolore reprehenderit esse, velit vero. Ipsum veniam
            molestias reprehenderit praesentium amet.</p>
    </section>





    <section class="blank">
        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eum qui illo temporibus eaque sunt adipisci alias
            cumque consectetur blanditiis illum deserunt deleniti vel culpa, aliquam labore ipsam iste saepe. Recusandae
            quaerat nemo eum perferendis dicta, saepe fugiat pariatur magnam! Reiciendis fuga, fugit distinctio
            accusamus deserunt non rem necessitatibus laboriosam totam! Quis molestias iure mollitia, reprehenderit
            deleniti maiores labore eaque quas quam neque beatae? Alias, obcaecati? Quia facilis distinctio dolorem
            culpa recusandae. Corrupti odit porro assumenda hic accusantium aliquam qui nam dolor incidunt, tempore
            sequi magni cupiditate recusandae veritatis eveniet dolore reprehenderit esse, velit vero. Ipsum veniam
            molestias reprehenderit praesentium amet.</p>

        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eum qui illo temporibus eaque sunt adipisci alias
            cumque consectetur blanditiis illum deserunt deleniti vel culpa, aliquam labore ipsam iste saepe. Recusandae
            quaerat nemo eum perferendis dicta, saepe fugiat pariatur magnam! Reiciendis fuga, fugit distinctio
            accusamus deserunt non rem necessitatibus laboriosam totam! Quis molestias iure mollitia, reprehenderit
            deleniti maiores labore eaque quas quam neque beatae? Alias, obcaecati? Quia facilis distinctio dolorem
            culpa recusandae. Corrupti odit porro assumenda hic accusantium aliquam qui nam dolor incidunt, tempore
            sequi magni cupiditate recusandae veritatis eveniet dolore reprehenderit esse, velit vero. Ipsum veniam
            molestias reprehenderit praesentium amet.</p>
    </section>




    <section class="blank">
        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eum qui illo temporibus eaque sunt adipisci alias
            cumque consectetur blanditiis illum deserunt deleniti vel culpa, aliquam labore ipsam iste saepe. Recusandae
            quaerat nemo eum perferendis dicta, saepe fugiat pariatur magnam! Reiciendis fuga, fugit distinctio
            accusamus deserunt non rem necessitatibus laboriosam totam! Quis molestias iure mollitia, reprehenderit
            deleniti maiores labore eaque quas quam neque beatae? Alias, obcaecati? Quia facilis distinctio dolorem
            culpa recusandae. Corrupti odit porro assumenda hic accusantium aliquam qui nam dolor incidunt, tempore
            sequi magni cupiditate recusandae veritatis eveniet dolore reprehenderit esse, velit vero. Ipsum veniam
            molestias reprehenderit praesentium amet.</p>

        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eum qui illo temporibus eaque sunt adipisci alias
            cumque consectetur blanditiis illum deserunt deleniti vel culpa, aliquam labore ipsam iste saepe. Recusandae
            quaerat nemo eum perferendis dicta, saepe fugiat pariatur magnam! Reiciendis fuga, fugit distinctio
            accusamus deserunt non rem necessitatibus laboriosam totam! Quis molestias iure mollitia, reprehenderit
            deleniti maiores labore eaque quas quam neque beatae? Alias, obcaecati? Quia facilis distinctio dolorem
            culpa recusandae. Corrupti odit porro assumenda hic accusantium aliquam qui nam dolor incidunt, tempore
            sequi magni cupiditate recusandae veritatis eveniet dolore reprehenderit esse, velit vero. Ipsum veniam
            molestias reprehenderit praesentium amet.</p>
    </section>


    <section class="blank">
        <h1>...what dou you think?</h1>
        <p>...</p>
    </section>


</div>

</body>
<script src="js/jquery.min.js"></script>
<script src="js/smooth-scrollbar.js"></script>
<script src="js/gsap.min.js"></script>
<script src="js/ScrollTrigger.js"></script>
<script>
    // =======================
    // Begin Smooth Scrollbar
    // =======================

    if ($("body").hasClass("smooth-scroll")) {

        // Init Smooth Scrollbar
        // ======================
        var Scrollbar = window.Scrollbar;
        Scrollbar.init(document.querySelector("#scroll-container"), {
            damping: 0.05,
            renderByPixel: true,
            continuousScrolling: true,
            alwaysShowTracks: true
        });


        // 3rd party library setup
        // More info: https://greensock.com/docs/v3/Plugins/ScrollTrigger/static.scrollerProxy()
        // ========================
        let scrollPositionX = 0,
            scrollPositionY = 0,
            bodyScrollBar = Scrollbar.init(document.getElementById("scroll-container"));

        bodyScrollBar.addListener(({offset}) => {
            scrollPositionX = offset.x;
            scrollPositionY = offset.y;
        });

        bodyScrollBar.setPosition(0, 0);
        bodyScrollBar.track.xAxis.element.remove();

        // Tell ScrollTrigger to use these proxy getter/setter methods for the "body" element:
        ScrollTrigger.scrollerProxy("body", {
            scrollTop(value) {
                if (arguments.length) {
                    bodyScrollBar.scrollTop = value;
                }
                return bodyScrollBar.scrollTop;
            }
        });

        // when smooth scroller updates, tell ScrollTrigger to update() too.
        bodyScrollBar.addListener(ScrollTrigger.update);
    }

    // =======================
    // End Smooth Scrollbar
    // =======================


    // ScrollTrigger horizontal scroll
    // ================================
    const horizontalSections = gsap.utils.toArray('section.horizontal');

    horizontalSections.forEach(function (sec, i) {

        var thisPinWrap = sec.querySelector('.pin-wrap');
        var thisAnimWrap = thisPinWrap.querySelector('.animation-wrap');
        var sections = gsap.utils.toArray(".horizontal-item");

        var getToValue = () => -(thisAnimWrap.scrollWidth - window.innerWidth);

        var scrollTween = gsap.fromTo(thisAnimWrap, {
            x: () => thisAnimWrap.classList.contains('to-right') ? getToValue() : 0
        }, {
            x: () => thisAnimWrap.classList.contains('to-right') ? 0 : getToValue(),
            ease: "none", // <-- IMPORTANT!
            scrollTrigger: {
                trigger: sec,
                scroller: document.body, // neccessary setting for smooth-scrollbar on body
                pinType: 'transform', // neccessary setting for smooth-scrollbar on body
                start: "top top",
                end: "+=5000",
                pin: thisPinWrap,
                invalidateOnRefresh: true,
                anticipatePin: 1,
                scrub: true,
                // markers: true,
            }
        });

        //
        // // Add class to active item
        // // =========================
        // sections.forEach((sct, i) => {
        //
        //     ScrollTrigger.create({
        //         trigger: sct,
        //         containerAnimation: scrollTween,
        //         start: thisAnimWrap.classList.contains('to-right') ? "100% 50%" : "0% 50%",
        //         end: thisAnimWrap.classList.contains('to-right') ? "0% 50%" : "100% 50%",
        //         toggleClass: {targets: sct, className: "active"},
        //         // markers: true
        //     });
        //
        // });

    });

</script>
</html>